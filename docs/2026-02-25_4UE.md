---
title: 2026-02-25
author: Melissa Burgstaller
date: 2026-02-25
---
# 2026-02-25 - 4 UE

## Migrationen

### Benutzer
Ich habe mit der  Umsetzung der Benutzerstruktur angefangen. Ich habe zwei neue Felder zu `users` hinzugefügt: 

**role**: Um zwischen Lehrer, Sekretariat und Direktor zu unterscheiden zu können. Das sind quasi die Benutzerrollen (für Rechteprüfung später).

**can_issue_vouchers**: Um festzulegen, ob eine Lehrperson berechtigt ist, Gutscheine zu erstellen oder eben nicht. Man kann ihnen später die Berechtigung geben und dann wieder wegnehmen. 

All das habe ich in dieser Migration gemacht:
```
2026_02_25_065441_add_role_and_can_issue_vouchers_to_users_table.php
```
### Schüler

Mit diesem Befehl habe ich `Student.php` erstellt:
```
php artisan make:model Student -m
```
Dadurch habe ich auch Migration `create_students_table.php` automatisch erstellt.

Dann habe ich mir überlegt, welche Felder ich beim Schüler hinzufügen soll:
`id`: Primärschlüssel
`student_id`: Matrikelnummer (jede Schüler hat eine individuelle)
`first_name`: Vorname
`last_name`: Nachname
`birthdate`: Geburtsdatum
`timestamps`: Zeit der Erstellung

Ich habe die Klasse bewusst nicht beim Schüler dazugespeichert, da sich die Klasse ja jährlich verändert, außer der Schüler bleibt sitzen. Die Klasse werde ich später direkt beim Gutschein speichern.
Dann habe ich Migration ausgeführt `php artisan migrate`.

Dann habe ich nochmal nachgedacht und bin draufgekommen, dass jeder Schüler ja auch eine E-Mail hat. Dann habe ich die `students`-Tabelle um das Feld `email` erweitert, welches `unique` ist, durch diese neue Migration:
```
php artisan make:migration add_email_to_students_table --table=students
```
Danach habe ich nochmal `php artisan migrate` gemacht. 

### Gutschein 
Jeder Gutschein hat eine Nummer was `unique` ist und ist eindeutig einem `student` zugeordnet. 